# ðŸŒ„ Dota 2 Scene Snapshot System

ä¸€ä¸ªä¸ºå›½é£Žæ¸¸æˆå¼€å‘è€Œè®¾è®¡çš„ **Dota 2 åœºæ™¯å¿«ç…§ç³»ç»Ÿ**ï¼Œæ”¯æŒ**å®Œæ•´çŠ¶æ€åºåˆ—åŒ–ä¸Žè¿˜åŽŸ**ã€‚  
è¯¥å·¥å…·å¯è®°å½•å¹¶æ¢å¤æŸä¸€æ—¶é—´ç‚¹çš„æ¸¸æˆçŠ¶æ€ï¼ŒåŒ…æ‹¬å•ä½ã€æŠ€èƒ½ã€Modifier ç­‰ï¼Œä¾¿äºŽè¿›è¡ŒçŠ¶æ€æµ‹è¯•å’Œæ•°æ®åˆ‡ç‰‡ã€‚

---

## âœ¨ åŠŸèƒ½ç‰¹è‰²

- âœ… æ”¯æŒå®Œæ•´ä¿å­˜/åŠ è½½æ¸¸æˆåœºæ™¯çŠ¶æ€
- âœ… ä¿å­˜å•ä½çŠ¶æ€ã€æŠ€èƒ½çŠ¶æ€ã€Modifier çŠ¶æ€
- âœ… æ”¯æŒè‡ªå®šä¹‰æ‰©å±•æŽ¥å£ï¼ˆå¦‚ç‰¹å®šå­—æ®µå¿«ç…§ï¼‰
- âœ… ä½¿ç”¨ TypeScript ç¼–å†™ï¼Œä¾¿äºŽä¸Ž Dota 2 å®˜æ–¹å·¥å…·é“¾é›†æˆ

---

## ðŸž å·²çŸ¥é—®é¢˜

- â— **ç¬¬ä¸€æ¬¡è½½å…¥ä¸ç¨³å®š**ï¼šç”±äºŽå‘½çŸ³ç³»ç»Ÿæœºåˆ¶å°šä¸å®Œå–„ï¼Œé¦–æ¬¡ `load` å¯èƒ½å¤±è´¥ï¼Œå»ºè®®å¤šè½½å…¥å‡ æ¬¡ã€‚
- â— **Modifier çŠ¶æ€è¿˜åŽŸä¸å®Œå…¨**ï¼šæŸäº›å•ä½ä¸Šçš„ Modifier æ— æ³•å®Œå…¨æ¢å¤ã€‚

---

## ðŸ“Œ ä½¿ç”¨åœºæ™¯

> æœ¬å·¥å…·ç”¨äºŽæˆ‘çš„å›½é£Žé¢˜ææ¸¸æˆé¡¹ç›®ä¸­ï¼Œä½œä¸ºæ¸¸æˆçŠ¶æ€çš„å¿«ç…§æµ‹è¯•å·¥å…·ã€‚

ä½ å¯ä»¥é€šè¿‡æ‰©å±•æŽ¥å£æ³¨å†Œ `onCapture/onRestore` æ–¹æ³•ï¼Œæ¥å®žçŽ°è‡ªå®šä¹‰å­—æ®µçš„ä¿å­˜ä¸Žæ¢å¤ã€‚  
ç¤ºä¾‹ä¸­ä¿å­˜äº†å»ºç­‘ç‰©çš„æ— æ•Œæ¬¡æ•°å­—æ®µ `InvulnCount`ã€‚

---

## ðŸ›  ç¤ºä¾‹ä»£ç 

```ts
export function SnapshotExtensionTemplate() {
    EntitySnapshotExtensionManager.register({
        "onCapture": (ent, data) => {
            if (!ent.IsInstance(CDOTA_BaseNPC_Building)) return;
            data["InvulnCount"] = ent.GetInvulnCount();
        },
        "onRestore": (ent, data) => {
            if (!ent.IsInstance(CDOTA_BaseNPC_Building)) return;
            ent.SetInvulnCount(data["InvulnCount"]);
            print("è®¾ç½®äº†å»ºç­‘çš„æ— æ•Œæ¬¡æ•°");
        }
    });
}
